<!DOCTYPE html>
<html lang="en">
  <head>
    <title>microtask</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link type="text/css" rel="stylesheet" href="./index.css" />
    <script src="../dist/microtask.min.js"></script>
  </head>
  <body>
    <div>
      <a hidefocus="true" href="javascript:;" class="ui-button ui-button-green" onclick="nextTick()">âœ¨ microtask âœ¨</a>
    </div>
    <div>
      <pre id="output">ðŸ™ˆ Pleace click the microtask button! ðŸ™ˆ</pre>
    </div>
    <script>
      var output = document.getElementById('output');

      function nextTick() {
        output.innerHTML = 'âš¡ line 1: script start<br/>';
        console.log('line 1: script start');

        setTimeout(function () {
          output.innerHTML += 'âš¡ line 2: timeout<br/>';
          console.log('line 2: timeout');
        });

        microtask(function () {
          output.innerHTML += 'âš¡ line 3: microtask<br/>';
          console.log('line 3: microtask');
        });

        output.innerHTML += 'âš¡ line 4: script end<br/>';
        console.log('line 4: script end');
      }
    </script>
  </body>
</html>
