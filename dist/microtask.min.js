/**
 * @module microtask
 * @author nuintun
 * @license MIT
 * @version 0.0.1
 * @description A pure JavaScript cross browser microtask.
 * @see https://github.com/nuintun/microtask#readme
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("microtask",t):(n=n||self).microtask=t()}(this,function(){"use strict";function n(n,t){this.task=n,this.args=t}n.prototype.run=function(){var n=this.task,t=this.args;switch(t.length){case 0:return n();case 1:return n(t[0]);case 2:return n(t[0],t[1]);case 3:return n(t[0],t[1],t[2]);default:return n.apply(null,t)}};var t=Function.prototype.toString.call(Function);function e(n){return"function"==typeof n&&t.test(n)}t=(t=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")).replace(/Function|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),t=new RegExp("^"+t+"$");var r,o=window.Promise,u={support:function(){return e(o)},install:function(n){return function(){o.resolve().then(n)}}},i=window.MutationObserver||window.WebKitMutationObserver,a={support:function(){return e(i)},install:function(n){var t=!0,e=new i(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=!t}}},c=window.VBArray,s=window.MessageChannel,f=[],l=!1,p=[u,a,{support:function(){return!e(c)&&e(s)},install:function(n){var t=new s;return t.port1.onmessage=n,function(){t.port2.postMessage(0)}}},{support:function(){return"onreadystatechange"in document.createElement("script")},install:function(n){return function(){var t=document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},document.documentElement.appendChild(t)}}},{support:function(){return!0},install:function(n){return function(){setTimeout(n,0)}}}];function d(){for(var n=0;n<f.length;n++)f[n].run();f=[],l=!1}for(var h=0,g=p.length;h<g;h++)if((r=p[h]).support()){r=r.install(d);break}return function(t){var e=function(n,t){t>>>=0;var e=n.length;if(t>=e)return[];for(var r=new Array(e-t);e-- >t;)r[e-t]=n[e];return r}(arguments,1);f[f.length]=new n(t,e),l||(l=!0,r())}});
//# sourceMappingURL=microtask.js.map