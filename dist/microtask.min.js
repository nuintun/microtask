/**
 * @module microtask
 * @author nuintun
 * @license MIT
 * @version 0.0.1
 * @description A pure JavaScript cross browser microtask.
 * @see https://github.com/nuintun/microtask#readme
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("microtask",t):n.microtask=t()}(this,function(){"use strict";var n=Function.prototype.toString.call(Function);function t(t){return"function"==typeof t&&n.test(t)}n=(n=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")).replace(/Function|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),n=new RegExp("^"+n+"$");var e,r=window.Promise,o={support:function(){return t(r)},install:function(n){return function(){r.resolve().then(n)}}},u=window.MutationObserver||window.WebKitMutationObserver,i={support:function(){return t(u)},install:function(n){var t=0,e=new u(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}},a=window.VBArray,c=window.MessageChannel,s={support:function(){return!t(a)&&t(c)},install:function(n){var t=new c;return t.port1.onmessage=n,function(){t.port2.postMessage(0)}}},f={support:function(){return"onreadystatechange"in document.createElement("script")},install:function(n){return function(){var t=document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},document.documentElement.appendChild(t)}}},l={support:function(){return!0},install:function(n){return function(){setTimeout(n,0)}}};function p(n,t){this.task=n,this.args=t}p.prototype.run=function(){var n=this.task,t=this.args;switch(t.length){case 0:return n();case 1:return n(t[0]);case 2:return n(t[0],t[1]);case 3:return n(t[0],t[1],t[2]);default:return n.apply(null,t)}};var d=[],h=!1,g=[o,i,s,f,l];function m(){for(var n=0;n<d.length;n++)d[n].run();d=[],h=!1}for(var v=0,w=g.length;v<w;v++)if((e=g[v]).support()){e=e.install(m);break}return function(n){var t=function(n,t){t>>>=0;var e=n.length;if(t>=e)return[];for(var r=new Array(e-t);e-- >t;)r[e-t]=n[e];return r}(arguments,1);d[d.length]=new p(n,t),h||(h=!0,e())}});
//# sourceMappingURL=dist/microtask.js.map